"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function getCallsite(belowFunction) {
    const oldLimit = Error.stackTraceLimit;
    Error.stackTraceLimit = 1;
    const v8Handler = Error.prepareStackTrace;
    Error.prepareStackTrace = (dummy, stack) => stack;
    const dummy = { stack: [] };
    Error.captureStackTrace(dummy, belowFunction || getCallsite);
    const callsite = dummy.stack[dummy.stack.length - 1];
    Error.prepareStackTrace = v8Handler;
    Error.stackTraceLimit = oldLimit;
    return callsite;
}
exports.getCallsite = getCallsite;
//# sourceMappingURL=blackmagic.js.map